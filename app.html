<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="color-scheme" content="light dark">
<title>éª¨æ ¼MBTI Webè¨ºæ–­ v3ï¼ˆFinal + Brand/Styleï¼‰</title>
<link rel="stylesheet" href="./styles.css?v=1">
</head>
<body data-theme="WAVE"></body>
<div class="wrap">
  <header>
    <span class="badge">Final Edition</span>
    <h1>éª¨æ ¼MBTI Webè¨ºæ–­ v3</h1>
  </header>
  <div id="app" class="card"></div>
  <section id="dashboard" class="dash">
  <div class="dash-card">
    <div class="dash-head">
      <h2>ã¿ã‚“ãªã®è¨ºæ–­å‚¾å‘</h2>
      <p class="muted">æœ€æ–°é›†è¨ˆã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º</p>
    </div>

    <div class="dash-frame">
      <iframe
        class="dash-embed"
        src="https://lookerstudio.google.com/embed/reporting/6a1b780b-386d-466c-9624-2e5f9f93f90c/page/Dk1cF"
        allowfullscreen
        frameborder="0">
      </iframe>
    </div>
  </div>
</section>

</div>

<script>
  document.body.dataset.theme = 'WAVE';
  // ============ Google Sheetsé€£æºè¨­å®š ============
const GAS_URL = "https://script.google.com/macros/s/AKfycbxVWOXNr9rqQsIE5kJl5Ujk1gUJXTIhXGivuojjZbOtGwyvq4-Pp6F4u6K6o7DV9Nuj/exec"
function sendToSheets(payload){
  console.log('[GAS] sending...', payload);
  return fetch(GAS_URL, {
    method: "POST",
    // â˜… ãƒ—ãƒªãƒ•ãƒ©ã‚¤ãƒˆã‚’ç™ºç”Ÿã•ã›ãªã„è¨±å¯ã‚¿ã‚¤ãƒ—
    headers: { "Content-Type": "text/plain" },
    body: JSON.stringify(payload),
  })
  .then(r => r.text().then(t => {
    console.log('[GAS] response:', r.status, t);
    return { status: r.status, body: t };
  }))
  .catch(e => console.error('[GAS] error:', e));
}

// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åŒæ„çŠ¶æ…‹ã‚’ä¿å­˜/å–å¾—ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿æŒï¼‰
const CONSENT_KEY = 'km_consent'; // 'yes' | 'no'
function getConsent(){ return localStorage.getItem(CONSENT_KEY) ?? 'yes'; } // æ—¢å®š=åŒæ„
function setConsent(v){ localStorage.setItem(CONSENT_KEY, v ? 'yes' : 'no'); }

function makeInitialState(){
  const make = n => Array(n).fill(3); // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼åˆæœŸå€¤=3
  return {
    step: 0,
    _sentOnce: false,                 // è‡ªå‹•é€ä¿¡ãƒ•ãƒ©ã‚°ã‚‚ãƒªã‚»ãƒƒãƒˆ
    answers: {
      frame:   make(12),
      surface: make(12),
      balance: make(12),
      line:    make(12)
    }
  };
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ 4è»¸å®šç¾© â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ 4è»¸å®šç¾©ï¼ˆç½®ãæ›ãˆï¼‰ â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const AXES = [
  { key:'frame',   codePos:'B', codeNeg:'M', label:'æ§‹é€ è»¸ï¼ˆFrameï¼‰',
    posLabel:'éª¨æ ¼ä¸»å°ï¼ˆBï¼‰', negLabel:'è‚‰ä»˜ãä¸»å°ï¼ˆMï¼‰', threshold:3.5 },

  { key:'surface', codePos:'W', codeNeg:'N', label:'é¢ç©è»¸ï¼ˆSurfaceï¼‰',
    posLabel:'èº«ä½“ãƒ•ãƒ¬ãƒ¼ãƒ åºƒï¼ˆWï¼‰', negLabel:'èº«ä½“ãƒ•ãƒ¬ãƒ¼ãƒ ç‹­ï¼ˆNï¼‰', threshold:3.5 },

  { key:'balance', codePos:'U', codeNeg:'L', label:'é‡å¿ƒè»¸ï¼ˆBalanceï¼‰',
    posLabel:'ä¸Šé‡å¿ƒï¼ˆUï¼‰', negLabel:'ä¸‹é‡å¿ƒï¼ˆLï¼‰', threshold:3.5 },

  { key:'line',    codePos:'C', codeNeg:'S', label:'ãƒ©ã‚¤ãƒ³è»¸ï¼ˆLineï¼‰',
    posLabel:'ç›´ç·šï¼ˆCï¼‰', negLabel:'æ›²ç·šï¼ˆSï¼‰', threshold:3.5 },
];
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ è³ªå•ï¼ˆå„12å•ãƒ»5æ®µéšï¼‰ â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const QUESTIONS = {
  frame:[
    {t:'é–éª¨ã‚„è‚‹éª¨ã®ãƒ©ã‚¤ãƒ³ãŒã¯ã£ãã‚Šã—ã¦ã„ã‚‹',pos:true},
    {t:'æ‰‹é¦–ã‚„è¶³é¦–ã®éª¨ãŒç›®ç«‹ãšã€ãã®ä»–ã®éƒ¨ä½ã‚‚è‚‰æ„ŸãŒç›®ç«‹ã¤',pos:false},
    {t:'è‚©ã‚„å¤ªã‚‚ã‚‚ã«éª¨ã¼ã­ã—ã•ã‚’æ„Ÿã˜ã‚‹',pos:true},
    {t:'ä½“å…¨ä½“ãŒç›´ç·šçš„ã§ã€å‡¹å‡¸ãŒå°‘ãªã„',pos:true},
    {t:'å‹•ã„ãŸã¨ãã€ç­‹è‚‰ã®å‹•ããŒã‚ã‹ã‚Šãšã‚‰ã„',pos:true},
    {t:'èº«ä½“ä»˜ããŒã€Œã‚·ãƒ£ãƒ¼ãƒ—ã€ã¨è¨€ã‚ã‚Œã‚‹',pos:true},
    {t:'é¡”ã«è„‚è‚ªãŒã¤ãã«ãã„',pos:true},
    {t:'å†™çœŸã§è¦‹ã‚‹ã¨éª¨ã®ä½ç½®ãŒã‚ã‹ã‚Šãšã‚‰ã„',pos:false},
    {t:'åšæ‰‹ã®æœã§ã‚‚éª¨ã®å½¢ãŒå‡ºã‚„ã™ã„',pos:true},
    {t:'é‹å‹•ã‚’ã—ã¦ã‚‚ç­‹è‚‰ãŒã¤ãã‚„ã™ã„',pos:false},
    {t:'åº§ã‚‹ã¨éª¨ç›¤ã‚„é–¢ç¯€ãŒã”ã¤ã”ã¤æ„Ÿã˜ã‚‰ã‚Œã‚‹',pos:true},
    {t:'è‡ªåˆ†ã®ä½“å‹ã¯ã€Œéª¨ã®å½¢ã€ã«ã‚ˆã£ã¦æ±ºã¾ã£ã¦ã„ã‚‹',pos:true}
  ],
  surface:[
    {t:'å‘¨å›²ã‹ã‚‰å®Ÿéš›ã®èº«é•·ã‚ˆã‚Šã‚‚å¤§ããè¦‹ãˆã‚‹ã¨è¨€ã‚ã‚Œã‚‹',pos:true},
    {t:'è‚©å¹…ã®å¤§ãã•ãŒé¡”ã®æ¨ªå¹…ä¸‰ã¤åˆ†ã®å¤§ãã•ã‚ˆã‚Šã‚‚å¤§ãã„',pos:true},
    {t:'åšæ‰‹ã‚ˆã‚Šè–„æ‰‹ãƒ»è»½ã„ç´ æãŒã—ã£ãã‚Šãã‚‹',pos:true},
    {t:'é™æ­¢ã™ã‚‹ã¨å­˜åœ¨æ„ŸãŒå¼·ã„',pos:true},
    {t:'è…•ã®é•·ã•ãŒè†ã¨ãŠå°»ã®ä¸­é–“ãã‚‰ã„ã¾ã§ã‚ã‚‹',pos:true},
    {t:'æ‰‹ãŒå°ã•ã„ã¨ã‚ˆãè¨€ã‚ã‚Œã‚‹',pos:false},
    {t:'ä½“ã®ãƒ¡ãƒªãƒãƒªãŒå°‘ãªã„',pos:true},
    {t:'å†™çœŸã§ä»–äººã¨ä¸¦ã¶ã¨èº«ä½“ãŒå¤§ããè¦‹ãˆã‚‹',pos:true},
    {t:'é¦–å…ƒãŒã‚†ã£ãŸã‚Šã—ãŸæœãŒã‚ˆãä¼¼åˆã†',pos:true},
    {t:'åšã¿ãŒãªãæ¨ªã«åºƒãŒã‚‹ã‚ˆã†ãªä½“å‹ã‚’ã—ã¦ã„ã‚‹',pos:true},
    {t:'ãƒ“ãƒƒã‚°ã‚·ãƒ«ã‚¨ãƒƒãƒˆã®æœãŒä¼¼åˆã‚ãªã„',pos:false},
    {t:'é–éª¨ãŒå¤ªãé•·ã„',pos:true}
  ],
  balance:[
    {t:'é¡ã‚’è¦‹ã‚‹ã¨ä¸ŠåŠèº«ãŒç›®ç«‹ã¤ã‚ˆã†ã«æ„Ÿã˜ã‚‹',pos:true},
    {t:'è…°ãƒ»ãƒ’ãƒƒãƒ—ãŒç›®ç«‹ã¤',pos:true},
    {t:'è„šãŒé•·ãè¦‹ãˆã‚‹',pos:true},
    {t:'ã‚¦ã‚¨ã‚¹ãƒˆãƒ©ã‚¤ãƒ³ãŒä½ãè¦‹ãˆã‚‹',pos:false},
    {t:'åº§ã‚‹ã¨èº«é•·ãŒä½ãè¦‹ãˆã‚‹',pos:true},
    {t:'ç«‹ã¤ã¨èƒ¸ã‚„è‚©ã®ä½ç½®ãŒé«˜ãè¦‹ãˆã‚‹',pos:true},
    {t:'ãƒœãƒ‡ã‚£ãƒ©ã‚¤ãƒ³ã®å‡ºã‚‹æœãŒä¼¼åˆã†',pos:true},
    {t:'ãƒˆãƒƒãƒ—ã‚¹ã«ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚’å‡ºã™ã¨ç€è†¨ã‚Œã™ã‚‹',pos:false},
    {t:'ãƒ¯ã‚¤ãƒ‰ãƒ‘ãƒ³ãƒ„ã‚ˆã‚Šã‚‚ã‚¹ã‚­ãƒ‹ãƒ¼ãƒ‘ãƒ³ãƒ„ãŒä¼¼åˆã†',pos:true},
    {t:'ä¸ŠåŠèº«ã«ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼ã‚„æŸ„ã‚’æŒã£ã¦ãã‚‹ã¨ã—ã£ãã‚Šãã‚‹',pos:true},
    {t:'é¦–ã®é•·ã•ãŒçŸ­ã‚',pos:true},
    {t:'ç€ä¸ˆã®çŸ­ã„ãƒˆãƒƒãƒ—ã‚¹ãŒä¼¼åˆã†',pos:true}
  ],
  line:[
    {t:'æ‰‹è¶³ã‚„ä½“ã®è¼ªéƒ­ãŒã¾ã£ã™ãã«è¦‹ãˆã‚‹',pos:true},
    {t:'è‚©ã‚„è…°ã«ä¸¸ã¿ãŒãªã„',pos:true},
    {t:'ã€Œã‚·ãƒ£ãƒ¼ãƒ—ã€ã¨è¨€ã‚ã‚Œã‚‹',pos:true},
    {t:'é¦–å…ƒãŒç©ºã„ã¦ã„ã‚‹æœã¯è²§ç›¸ã«è¦‹ãˆã‚‹ã¨è¨€ã‚ã‚Œã‚‹',pos:true},
    {t:'ç›´ç·šçš„ãªæœãŒä¼¼åˆã†',pos:true},
    {t:'ã‚¹ãƒ¼ãƒ„ã‚„ã‚·ãƒ£ãƒ„ãŒã‚ã¾ã‚Šä¼¼åˆã‚ãªã„',pos:false},
    {t:'ä½“ã®ãƒ¡ãƒªãƒãƒªãŒå°‘ãªã„',pos:true},
    {t:'ã‚ªãƒ¼ãƒãƒ¼ã‚µã‚¤ã‚ºã®æœã‚’åˆ‡ã‚‹ã¨ç€ã¶ãã‚Œã™ã‚‹',pos:false},
    {t:'æ¨ªé¡”ã‚„æ¨ªå§¿ãŒç›´ç·šçš„ã«è¦‹ãˆã‚‹',pos:true},
    {t:'é¡”ã®éª¨ãŒç›®ç«‹ãŸãªã„',pos:false},
    {t:'ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆãªé«ªå‹ã¯é¡”ãŒå¤§ããè¦‹ãˆã‚‹',pos:false},
    {t:'å…¨ä½“ã®å°è±¡ãŒã€Œã™ã£ãã‚Šã€ã—ã¦ã„ã‚‹',pos:true}
  ]
};

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ Final TYPE å®šç¾©ï¼ˆ16ã‚¿ã‚¤ãƒ—ï¼šå‹•ç‰©ãƒ»ãƒ–ãƒ©ãƒ³ãƒ‰ãƒ»ãƒãƒ¼ãƒˆï¼‰ â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
/* ç”»åƒã¯ä»»æ„ï¼ˆimages/CODE.jpgï¼‰ã€‚brandHints/styleNotes ã¯çµæœç”»é¢ã«è¡¨ç¤º */
const TYPE_META = {
  /* ============== WAVEï¼ˆæŸ”ãƒ»è»½ãƒ»ä¸‹é‡å¿ƒï¼‰ ============== */
  BNLS:{ // Romantic Wave
    name:'Romantic Wave', base:'WAVE', emoji:'ğŸ¨', animal:'ã‚³ã‚¢ãƒ©',
    image:'images/BNLS.jpg',
    concept:'ç”˜ãã‚„ã‚ã‚‰ã‹ã€åŒ…å®¹æ„Ÿã®ã‚ã‚‹ãƒ­ãƒãƒ³ã€‚',
    body:'B=ã‚„ã‚„éª¨æ„Ÿ / W=åºƒã‚ / L=ä¸‹é‡å¿ƒ / S=æ›²ç·šå¼·ã‚ã€‚ä¸ŠåŠèº«ã¯è¯å¥¢ã€è…°ã€œãƒ’ãƒƒãƒ—ã«ä¸¸ã¿ã€‚éª¨ã®ä¸»å¼µã¯å¼±ãã€ã‚„ã‚ã‚‰ã‹ãªé™°å½±ã¨æ›²ç·šãŒå°è±¡ã®ä¸­å¿ƒã€‚',
    brandHints:['SNIDEL','CELFORD','TOCCA','Lily Brown','FRAY I.D','IÃ‰NA','Noela'],
    styleNotes:[
      'è–„æ‰‹ã€œä¸­åšã§è½ã¡æ„Ÿã®ã‚ã‚‹ç´ æï¼ˆã‚·ãƒ•ã‚©ãƒ³/ã‚µãƒ†ãƒ³/ã‚¸ãƒ§ãƒ¼ã‚¼ãƒƒãƒˆï¼‰',
      'è¥Ÿã¯ãƒ©ã‚¦ãƒ³ãƒ‰/ãƒãƒ¼ãƒˆ/ã‚¹ã‚«ãƒ¼ãƒ•ã‚¿ã‚¤ã§æŸ”ã‚‰ã‹ã',
      'Aãƒ©ã‚¤ãƒ³ã‚„ãƒãƒ¼ãƒ¡ã‚¤ãƒ‰ã§ä¸‹é‡å¿ƒã‚’æ´»ã‹ã—ã¤ã¤è»½ã•ã‚’è¶³ã™',
      'é…è‰²ã¯ä¸­ã€œæ·¡è‰²ã®ãƒ¯ãƒ³ãƒˆãƒ¼ãƒ³ã€é»„ã¿ã‚’æŠ‘ãˆãŸãƒ”ãƒ³ã‚¯/ãƒ©ãƒ™ãƒ³ãƒ€ãƒ¼',
      'ç¡¬ã„ç›´ç·šãƒ†ãƒ¼ãƒ©ãƒ¼ãƒ‰ã¯â€œå€Ÿã‚Šã¦ããŸæ„Ÿâ€ãŒå‡ºã‚„ã™ã„'
    ],
    outfitIdeas:[
      'ãƒ¬ãƒ¼ã‚¹ãƒ–ãƒ©ã‚¦ã‚¹ï¼‹ãƒãƒ¼ãƒ¡ã‚¤ãƒ‰ã‚¹ã‚«ãƒ¼ãƒˆï¼‹2ï½4cmãƒ‘ãƒ³ãƒ—ã‚¹',
      'ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒ¼ãƒ‡ï¼‹ãƒ—ãƒªãƒ¼ãƒ„ã‚¹ã‚«ãƒ¼ãƒˆï¼‹å°ã¶ã‚Šãƒãƒƒã‚°'
    ],
    celebrities:{ jp:['åŒ—å·æ™¯å­','æœ‰æ‘æ¶ç´”','çŸ³ç”°ã‚†ã‚Šå­'], kr:['TWICE ãƒŠãƒ¨ãƒ³'], global:['Lily Collins','Emma Watson'] }
  },

  MNLC:{ // Urban Elegance (Wave)
    name:'Urban Elegance (Wave)', base:'WAVE', emoji:'ğŸº', animal:'ã‚ªã‚ªã‚«ãƒŸ',
    image:'images/MNLC.jpg',
    concept:'é™ã‹ã§èŠ¯ã®ã‚ã‚‹å„ªã—ã•ã€ç©ã‚„ã‹ã«çŸ¥çš„ãªæ´—ç·´ã€‚',
    body:'M=è‚‰æ„Ÿå¯„ã‚Š / N=ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆ / L=ä¸‹é‡å¿ƒ / C=ç›´ç·šå¯„ã‚Šã€‚æŸ”ã‚‰ã‹ã•ã«ç›´ç·šãŒæ··ã–ã‚‹ã€‚è„šã«åšã¿ãŒå‡ºã‚„ã™ã„ã®ã§ä¸Šã«ãƒã‚¤ãƒ³ãƒˆã‚’ã€‚',
    brandHints:['IÃ‰NA','Mila Owen','Plage','N.O.R.C','URBAN RESEARCH','TOMORROWLAND'],
    styleNotes:[
      'â€œIãƒ©ã‚¤ãƒ³â€ã‚’æ„è­˜ã—ãŸç¸¦é•·è¨­è¨ˆ',
      'ä¸­åšã§ãƒãƒªãŒå‡ºã™ããªã„ãƒ„ã‚¤ãƒ«/ãƒãƒ³ãƒ',
      'ã‚·ãƒ§ãƒ¼ãƒˆä¸ˆãƒˆãƒƒãƒ—ã‚¹ï¼‹ãƒã‚¤ã‚¦ã‚¨ã‚¹ãƒˆã§è¦–ç·šã‚’ä¸Šã¸',
      'ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã®ã‚°ãƒ¬ãƒ¼ã‚¸ãƒ¥/ãƒˆãƒ¼ãƒ—/ãƒ€ã‚¹ãƒ†ã‚£ãƒ”ãƒ³ã‚¯',
      'è‚©å¹…ã‚’èª‡å¼µã™ã‚‹ãƒ‘ãƒƒãƒ‰å¼·ã‚ã¯é¿ã‘ã‚‹'
    ],
    outfitIdeas:[
      'ã‚¯ãƒ­ãƒƒãƒ—ãƒ‰ã‚·ãƒ£ãƒ„ï¼‹ã‚¿ãƒƒã‚¯ãƒ¯ã‚¤ãƒ‰ï¼‹ãƒ­ãƒ¼ãƒ•ã‚¡ãƒ¼',
      'ãƒªãƒ–ãƒ‹ãƒƒãƒˆï¼‹ãƒŸãƒ‡ã‚£ã‚¿ã‚¤ãƒˆï¼‹ã‚·ãƒ§ãƒ¼ãƒˆãƒ–ãƒ¼ãƒ„'
    ],
    celebrities:{ jp:['å®®å´ã‚ãŠã„','é»’æœ¨è¯','å‰é«˜ç”±é‡Œå­'], kr:['ITZY ãƒªã‚¢'], global:['Keira Knightley','Natalie Portman'] }
  },

  MWLC:{ // Light Wave
    name:'Light Wave', base:'WAVE', emoji:'ğŸ¦‹', animal:'ãƒã‚¿ãƒ•ãƒ©ã‚¤',
    image:'images/MWLC.jpg',
    concept:'é¢¨ã«èˆã†é€æ˜æ„Ÿã€ã¾ã£ã™ãã§è»½ã‚„ã‹ãªå‡è¡¡ã€‚',
    body:'M=è‚‰æ„Ÿ / W=åºƒã‚ / L=ä¸‹é‡å¿ƒ / C=ç›´ç·šã€‚è…°ã€œè…¿ã«åšã¿ã€‚è»½ã„ç´ æã¨ç¸¦ãƒ©ã‚¤ãƒ³ã§â€œè»½ã‚„ã‹ãªç›´ç·šâ€ã‚’ä½œã‚‹ã¨â—ã€‚',
    brandHints:['N.O.R.C','IÃ‰NA','UNIQLO','BEAUTY&YOUTH','TOMORROWLAND','LE PHIL'],
    styleNotes:[
      'ãƒã‚¤ã‚¦ã‚¨ã‚¹ãƒˆã§è„šé•·è£œæ­£',
      'ä¸Šã¯ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã€ä¸‹ã¯ã‚¹ãƒƒã¨è½ã¡ã‚‹Iãƒ©ã‚¤ãƒ³',
      'ç›´ç·šçš„ãªã‚·ãƒ£ãƒ„/ãƒãƒ¼ã‚«ãƒ©ãƒ¼JKã‚’è–„æ‰‹ã§',
      'ã‚¢ã‚¯ã‚»ã¯ç´°ç·šã§è»½ã•ã‚’çµ±ä¸€',
      'åšåº•éå¤šã‚ˆã‚Šãƒ•ãƒ©ãƒƒãƒˆï½ãƒ­ãƒ¼ãƒ’ãƒ¼ãƒ«ã§è»½é‡åŒ–'
    ],
    outfitIdeas:[
      'ãƒãƒ¼ã‚«ãƒ©ãƒ¼ã‚·ãƒ£ãƒ„ï¼‹ãƒã‚¤ã‚¦ã‚¨ã‚¹ãƒˆãƒ‘ãƒ³ãƒ„ï¼‹ãƒ­ãƒ¼ãƒ•ã‚¡ãƒ¼',
      'ã‚¯ãƒ­ãƒƒãƒ—ãƒ‰ãƒ‹ãƒƒãƒˆï¼‹ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆãƒ‡ãƒ‹ãƒ ï¼‹ãƒŸãƒ‹ãƒãƒƒã‚°'
    ],
    celebrities:{ jp:['æµœè¾ºç¾æ³¢','å €åŒ—çœŸå¸Œ'], kr:['NewJeans ãƒ˜ã‚¤ãƒ³'], global:['Selena Gomez','Lily Collins'] }
  },

  MWLS:{ // Natural Girly
    name:'Natural Girly', base:'WAVE', emoji:'ğŸ¹', animal:'ãƒãƒ ã‚¹ã‚¿ãƒ¼',
    image:'images/MWLS.jpg',
    concept:'ä¸¸ã¿ã¨æ¸©ã‹ã¿ã€ãµã‚“ã‚ã‚Šã¨ã—ãŸå¯æ†ã•ã€‚',
    body:'M=è‚‰æ„Ÿ / W=åºƒã‚ / L=ä¸‹é‡å¿ƒ / S=æ›²ç·šã€‚å…¨ä½“ã«ãµã‚ã£ã¨åšã¿ã€‚å¯æ†ãƒ‡ã‚£ãƒ†ãƒ¼ãƒ«ã¯å°ã•ã‚ï¼†ä¸Šå´ã«é›†ç´„ã€‚',
    brandHints:['SNIDEL','earth music&ecology','Kastane','LOWRYS FARM','tocco closet'],
    styleNotes:[
      'Aãƒ©ã‚¤ãƒ³/ãƒ•ãƒ¬ã‚¢/ãƒ†ã‚£ã‚¢ãƒ¼ãƒ‰ã§â€œä¸‹ã«è½ã¡ã‚‹â€ã‚’æ´»ã‹ã™',
      'ä¸Šã¯çŸ­ã‚ãƒ»è¢–ã«å°‘ã—ãƒœãƒªãƒ¥ãƒ¼ãƒ ã§è¦–ç·šUP',
      'æŸ”ã‚‰ã‹ãƒ‹ãƒƒãƒˆ/ã‚«ãƒƒãƒˆã‚½ãƒ¼ä¸­å¿ƒ',
      'å°ã¶ã‚Šãƒãƒƒã‚°ï¼†ç¹Šç´°ã‚¢ã‚¯ã‚»ã§é‡ã•ã‚’æ¶ˆã™',
      'æ¿ƒè‰²ãƒ¯ãƒ³ãƒˆãƒ¼ãƒ³ã¯é‡ãŸãè¦‹ãˆã‚„ã™ã„'
    ],
    outfitIdeas:[
      'ä¸¸è¥Ÿãƒ–ãƒ©ã‚¦ã‚¹ï¼‹ãƒ•ãƒ¬ã‚¢ã‚¹ã‚«ãƒ¼ãƒˆï¼‹ãƒãƒ¬ã‚¨ã‚·ãƒ¥ãƒ¼ã‚º',
      'ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒ¼ãƒ‡ï¼‹ã‚®ãƒ£ã‚¶ãƒ¼ã‚¹ã‚«ãƒ¼ãƒˆï¼‹ãƒŸãƒ‹ã‚·ãƒ§ãƒ«ãƒ€ãƒ¼'
    ],
    celebrities:{ jp:['ä¸Šæˆ¸å½©','æ¡œäº•æ—¥å¥ˆå­'], kr:['aespa ã‚¦ã‚£ãƒ³ã‚¿ãƒ¼','Red Velvet ã‚¢ã‚¤ãƒªãƒ¼ãƒ³'], global:['Ariana Grande','Selena Gomez'] }
  },

  MNLS:{ // Classic Feminine
    name:'Classic Feminine', base:'WAVE', emoji:'ğŸ•Š', animal:'ç™½é³©',
    image:'images/MNLS.jpg',
    concept:'æŸ”ã‚‰ã‹ãä¸Šå“ã€ç©ã‚„ã‹ã«é¦™ã‚‹ã‚¨ãƒ¬ã‚¬ãƒ³ã‚¹ã€‚',
    body:'M=è‚‰æ„Ÿ / N=ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆ / L=ä¸‹é‡å¿ƒ / S=æ›²ç·šã€‚ä¸ŠåŠèº«ã¯è¯å¥¢ã§èƒ¸ã€œã‚¦ã‚¨ã‚¹ãƒˆã¯ãªã ã‚‰ã‹ã€ä¸‹åŠèº«ã«å®‰å®šã€‚',
    brandHints:['TOCCA','EPOCA','FOXEY','ANAYI','Apuweiser-riche'],
    styleNotes:[
      'ãƒãƒ¼ãƒˆ/ãƒ©ã‚¦ãƒ³ãƒ‰/æµ…Vã®å¥³æ€§çš„ãªè¥Ÿå‹',
      'ãƒŸãƒ‡ã‚£ã€œãƒ­ãƒ³ã‚°ã®ãƒ•ãƒ¬ã‚¢/ãƒãƒ¼ãƒ¡ã‚¤ãƒ‰',
      'ã‚µãƒ†ãƒ³ã‚„ã‚¸ãƒ§ãƒ¼ã‚¼ãƒƒãƒˆã®è‰¶ã§ä¸Šå“ã«',
      'çœŸç /å°ç²’ã‚¸ãƒ¥ã‚¨ãƒªãƒ¼ã§æ¸…æ½”æ„Ÿ',
      'ç›´ç·šå¼·ã„ã‚¸ãƒ£ã‚±ãƒƒãƒˆã¯çŸ­ä¸ˆã§è»½ã'
    ],
    outfitIdeas:[
      'ãƒœã‚¦ã‚¿ã‚¤ãƒ–ãƒ©ã‚¦ã‚¹ï¼‹ãƒŸãƒ‡ã‚£ãƒ•ãƒ¬ã‚¢ï¼‹ãƒ‘ãƒ¼ãƒ«ãƒ”ã‚¢ã‚¹',
      'ã‚·ãƒ§ãƒ¼ãƒˆã‚¸ãƒ£ã‚±ãƒƒãƒˆï¼‹ãƒãƒ¼ãƒ¡ã‚¤ãƒ‰ã‚¹ã‚«ãƒ¼ãƒˆ'
    ],
    celebrities:{ jp:['æ–°å£çµè¡£','ç™½çŸ³éº»è¡£'], kr:['IVE ã‚¦ã‚©ãƒ‹ãƒ§ãƒ³'], global:['Ariana Grande','Lily Collins'] }
  },

  BNLC:{ // Earth Wave
    name:'Earth Wave', base:'WAVE', emoji:'ğŸ»', animal:'ã‚¯ãƒ',
    image:'images/BNLC.jpg',
    concept:'ã‚ãŸãŸã‹ãåŒ…ã¿è¾¼ã‚€å®‰å®šæ„Ÿã€ç™’ã—ã®é‡å¿ƒã€‚',
    body:'B=éª¨æ„Ÿ / N=ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆ / L=ä¸‹é‡å¿ƒ / C=ç›´ç·šå¯„ã‚Šã€‚ä½“å¹¹ã¯å®‰å®šã€ç›´ç·šã®èŠ¯ã‚’æ„Ÿã˜ã‚‹ãŒã‚„ã‚ã‚‰ã‹ç´ æã§é¦´æŸ“ã‚€ã€‚',
    brandHints:['URBAN RESEARCH ROSSO','Plage','DOORS','JOURNAL STANDARD relume','IÃ‰NA'],
    styleNotes:[
      'ãƒ­ãƒ³ã‚°ã‚«ãƒ¼ãƒ‡/ãƒ©ã‚¤ãƒˆã‚¢ã‚¦ã‚¿ãƒ¼ã§â€œåŒ…ã¿â€ã‚’ä½œã‚‹',
      'è½ã¡æ„Ÿã‚ã‚‹ãƒŸãƒƒãƒ‰ã‚¦ã‚§ã‚¤ãƒˆç´ æ',
      'ã‚¢ãƒ¼ã‚¹ã‚«ãƒ©ãƒ¼ã®ä¸­æ˜åº¦ï¼ˆãƒ™ãƒ¼ã‚¸ãƒ¥/ã‚«ãƒ¼ã‚­/ãƒ¢ã‚«ï¼‰',
      'åšåº•ã™ããªã„é´ã§åœ°é¢ã«å®‰å®š',
      'ä¸ŠåŠèº«ã«1ç‚¹ã ã‘æ˜åº¦å·®ã§è¦–ç·šUP'
    ],
    outfitIdeas:[
      'ãƒ­ãƒ³ã‚°ã‚«ãƒ¼ãƒ‡ï¼‹Iãƒ©ã‚¤ãƒ³ãƒ¯ãƒ³ãƒ”ï¼‹ãƒ•ãƒ©ãƒƒãƒˆ',
      'ã‚¹ã‚¦ã‚§ãƒƒãƒˆï¼‹ã‚µãƒ†ãƒ³ã‚¹ã‚«ãƒ¼ãƒˆï¼‹ãƒ­ãƒ¼ãƒ•ã‚¡ãƒ¼'
    ],
    celebrities:{ jp:['å®®å´ã‚ãŠã„','é»’æœ¨è¯'], kr:['ITZY ãƒªã‚¢'], global:['Keira Knightley','Kristen Stewart'] }
  },

  /* ============== NATURALï¼ˆBLç³»ä¸­å¿ƒï¼‰ ============== */
  BWUC:{ // Urban Natural
    name:'Urban Natural', base:'NATURAL', emoji:'ğŸ¦„', animal:'ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ³',
    image:'images/BWUC.jpg',
    concept:'ç›´ç·šÃ—ä½™ç™½ã€å¹»æƒ³ã¨æ§‹é€ ã®èª¿å’Œã€‚',
    body:'B=éª¨æ„Ÿ / W=åºƒã‚ / U=ä¸Šé‡å¿ƒ / C=ç›´ç·šã€‚æ‰‹è¶³ãŒé•·ããƒ•ãƒ¬ãƒ¼ãƒ ã®å­˜åœ¨æ„ŸãŒå¼·ã„ã€‚ä½™ç™½ã‚’æ®‹ã™ãƒŸãƒ‹ãƒãƒ«ãŒæ˜ ãˆã‚‹ã€‚',
    brandHints:['JOURNAL STANDARD','UNITED ARROWS','BEAUTY&YOUTH','AURALEE','YLEVE','TODAYFUL'],
    styleNotes:[
      'ç›´ç·šÃ—ã‚†ã¨ã‚Šã®ãƒœãƒƒã‚¯ã‚¹/ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆ',
      'ãƒ©ã‚¤ãƒˆãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã§æ§‹é€ ã‚’è¦‹ã›ã‚‹',
      'ãƒãƒƒã‚¯ã¯ã‚¯ãƒ«ãƒ¼/ãƒœãƒ¼ãƒˆ/ã‚¹ã‚¿ãƒ³ãƒ‰',
      'è‰²ã¯ç„¡å½©è‰²ï¼‹å°‘é‡ã®ã‚½ãƒ•ãƒˆã‚«ãƒ©ãƒ¼',
      'éåº¦ãªè£…é£¾ã‚ˆã‚Šç´ æã®è‰¯ã•ã§å‹è² '
    ],
    outfitIdeas:[
      'ãƒœã‚¯ã‚·ãƒ¼JKï¼‹ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆãƒ‘ãƒ³ãƒ„ï¼‹ç™½ã‚¹ãƒ‹ãƒ¼ã‚«ãƒ¼',
      'ã‚¹ã‚¿ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼ã‚·ãƒ£ãƒ„ï¼‹ãƒ­ãƒ³ã‚°ã‚¹ã‚«ãƒ¼ãƒˆï¼ˆç›´ç·šï¼‰'
    ],
    celebrities:{ jp:['ä¸­æ‘ã‚¢ãƒ³','æ°´åŸå¸Œå­'], kr:['BLACKPINK ãƒªã‚µ','LE SSERAFIM ãƒ¦ãƒ³ã‚¸ãƒ³'], global:['Cara Delevingne','Gigi Hadid'] }
  },

  BWUS:{ // Fairy Natural
    name:'Fairy Natural', base:'NATURAL', emoji:'ğŸ¦…', animal:'ã‚¿ã‚«',
    image:'images/BWUS.jpg',
    concept:'è»½ã‚„ã‹ã§é€å¾¹ã—ãŸçŸ¥æ€§ã€ä¿¯ç°ã®ç¾å­¦ã€‚',
    body:'B=éª¨æ„Ÿ / W=åºƒã‚ / U=ä¸Šé‡å¿ƒ / S=æ›²ç·šå¯„ã‚Šã€‚éª¨ã®ç›´ç·šã«ã»ã‚“ã®ã‚Šæ›²ç·šã€‚ä¸Šã«è»½ã•ã‚’é›†ã‚ã‚‹ã¨ç©ºæ°—æ„ŸãŒå‡ºã‚‹ã€‚',
    brandHints:['ENFÃ–LD','Deuxieme Classe','TOMORROWLAND','athoos','COS'],
    styleNotes:[
      'ä¸ŠåŠèº«ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆÃ—ä¸‹ã«ç›´ç·šãƒ¬ã‚¤ãƒ¤ãƒ¼',
      'æ·¡è‰²Ã—ç„¡æ©Ÿè³ªã‚¢ã‚¯ã‚»ï¼ˆã‚·ãƒ«ãƒãƒ¼/ã‚¹ãƒãƒ¼ãƒ«ï¼‰',
      'ã‚¯ãƒªãƒ¼ãƒ³ãªã‚¹ãƒ‹ãƒ¼ã‚«ãƒ¼/ãƒ­ãƒ¼ãƒ•ã‚¡ãƒ¼',
      'é€ã‘/ã‚·ã‚¢ãƒ¼ã§è»½ã•ã‚’è¶³ã™',
      'å¯æ„›ã’è¦ç´ ã¯â€œé‡ã‚ˆã‚Šè³ªæ„Ÿâ€ã§'
    ],
    outfitIdeas:[
      'ã‚·ãƒ§ãƒ¼ãƒˆãƒ‹ãƒƒãƒˆï¼‹ã‚¹ãƒ©ãƒƒã‚¯ã‚¹ï¼‹ãƒ¡ã‚¿ãƒ«ã‚¢ã‚¯ã‚»',
      'ã‚·ã‚¢ãƒ¼ã‚·ãƒ£ãƒ„ï¼‹ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆã‚¹ã‚«ãƒ¼ãƒˆï¼‹ãƒ­ãƒ¼ãƒ•ã‚¡ãƒ¼'
    ],
    celebrities:{ jp:['ç¶¾ç€¬ã¯ã‚‹ã‹','æˆ¸ç”°æµæ¢¨é¦™'], kr:['NewJeans ãƒ˜ãƒªãƒ³'], global:['Zendaya','Keira Knightley'] }
  },

  BWLC:{ // Classic Natural
    name:'Classic Natural', base:'NATURAL', emoji:'ğŸ¦Š', animal:'ã‚­ãƒ„ãƒ',
    image:'images/BWLC.jpg',
    concept:'ç«¯æ­£ã§æ©Ÿæ•ã€è‡ªç„¶ä½“ã®å“æ ¼ã€‚',
    body:'B=éª¨æ„Ÿ / W=åºƒã‚ / L=ä¸‹é‡å¿ƒ / C=ç›´ç·šã€‚è‚©ã€œèƒŒä¸­ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãŒã™ã£ãã‚Šã€‚æ•´ã£ãŸç›´ç·šã§â€œé™ã®å“æ ¼â€ã€‚',
    brandHints:['IÃ‰NA','Plage','TOMORROWLAND','BEAMS','URBAN RESEARCH'],
    styleNotes:[
      'ã‚·ãƒ£ãƒ„/ãƒ†ãƒ¼ãƒ©ãƒ¼ãƒ‰ã¯è–„æ‰‹ã§ç«¯æ­£ã«',
      'ãƒªãƒãƒ³/ã‚³ãƒƒãƒˆãƒ³ã§æ¸…æ¶¼æ„Ÿ',
      'ã‚»ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ¬ã‚¹ã§ç›´ç·šã‚’å¼·èª¿',
      'ãƒ™ãƒ¼ã‚¸ãƒ¥ã€œãƒã‚¤ãƒ“ãƒ¼è»¸ã®ãƒ™ãƒ¼ã‚·ãƒƒã‚¯é…è‰²',
      'è£…é£¾ã¯æœ€å°é™ã€å½¢ã§èªã‚‹'
    ],
    outfitIdeas:[
      'ãƒªãƒãƒ³ã‚·ãƒ£ãƒ„ï¼‹ã‚»ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ¬ã‚¹ï¼‹ãƒ­ãƒ¼ãƒ•ã‚¡ãƒ¼',
      'ãƒãƒ¼ã‚«ãƒ©ãƒ¼JKï¼‹Iãƒ©ã‚¤ãƒ³ã‚¹ã‚«ãƒ¼ãƒˆ'
    ],
    celebrities:{ jp:['å‰é«˜ç”±é‡Œå­','æ'], kr:['LE SSERAFIM ãƒ¦ãƒ³ã‚¸ãƒ³'], global:['Cara Delevingne','Keira Knightley'] }
  },

  BWLS:{ // Pure Natural
    name:'Pure Natural', base:'NATURAL', emoji:'ğŸ¦Œ', animal:'ã‚·ã‚«',
    image:'images/BWLS.jpg',
    concept:'æŸ”ã‚‰ã‹ãé™ã‹ãªèª¿å’Œã€æ£®ã®ä¸­ã®å®‰ã‚‰ãã€‚',
    body:'B=éª¨æ„Ÿ / W=åºƒã‚ / L=ä¸‹é‡å¿ƒ / S=æ›²ç·šã€‚ç›´ç·šéª¨æ ¼ã«æŸ”ã‚‰ã‹ã„é¢ã€ãƒ†ã‚¯ã‚¹ãƒãƒ£ãƒ¼ãƒŸãƒƒã‚¯ã‚¹ã§æ·±ã¿ã‚’å‡ºã™ã¨â—ã€‚',
    brandHints:['nest Robe','Vermeerist BEAMS','Plage','Journal Standard Lâ€™essage'],
    styleNotes:[
      'ä¸‹ã«è½ã¡ã‚‹Aãƒ©ã‚¤ãƒ³/ãƒã‚¤ã‚¢ã‚¹',
      'ã‚³ãƒƒãƒˆãƒ³/ãƒªãƒãƒ³/ã‚¬ãƒ¼ã‚¼ã§è³ªæ„Ÿãƒ¬ã‚¤ãƒ¤ãƒ¼',
      'ã‚½ãƒ•ãƒˆã‚«ãƒ©ãƒ¼ã®ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³',
      'æœ¨/é©/å¸ƒã®è‡ªç„¶ç´ æã‚¢ã‚¯ã‚»',
      'ãƒ©ã‚°ã‚¸ãƒ¥ã‚¢ãƒªãƒ¼ã¯è‰¶ã‚ˆã‚Šãƒãƒƒãƒˆ'
    ],
    outfitIdeas:[
      'ã‚†ã‚‹ãƒ–ãƒ©ã‚¦ã‚¹ï¼‹ãƒã‚¤ã‚¢ã‚¹ã‚¹ã‚«ãƒ¼ãƒˆï¼‹ãƒ•ãƒ©ãƒƒãƒˆ',
      'ã‚³ãƒƒãƒˆãƒ³ãƒ¯ãƒ³ãƒ”ï¼‹ãƒ¬ã‚¶ãƒ¼å°ç‰©ï¼ˆå°ã•ã‚ï¼‰'
    ],
    celebrities:{ jp:['å®®å´ã‚ãŠã„','é»’æœ¨è¯'], kr:['aespa ã‚¦ã‚£ãƒ³ã‚¿ãƒ¼','NewJeans ãƒ˜ãƒªãƒ³'], global:['Keira Knightley','Kristen Stewart'] }
  },

  /* ============== STRAIGHTï¼ˆåšãƒ»ç«‹ä½“ãƒ»ä¸Šé‡å¿ƒãƒ»ç›´ç·šï¼‰ ============== */
  BNUS:{ // Elegant Straight
    name:'Elegant Straight', base:'STRAIGHT', emoji:'ğŸ†', animal:'ãƒ‘ãƒ³ã‚µãƒ¼',
    image:'images/BNUS.jpg',
    concept:'å‡›ã¨ã—ã¦æ§‹ç¯‰çš„ã€éƒ½ä¼šçš„ãƒ¢ãƒ¼ãƒ‰ã€‚',
    body:'B=éª¨æ„Ÿå¼· / N=ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆ / U=ä¸Šé‡å¿ƒ / S=æ›²ç·šå°‘ã€‚åšã¿ã‚ˆã‚Šéª¨ã®æ§‹é€ ãŒå…ˆã«ç«‹ã¡ã€ç›´ç·šÃ—ä¸Šé‡å¿ƒã§â€œæ„å¿—ã®å¼·ã•â€ã€‚',
    brandHints:['Theory','Max Mara','FOXEY','PLST','LE PHIL','TIBI'],
    styleNotes:[
      'ã‚·ãƒ§ãƒ¼ãƒˆä¸ˆÃ—ãƒã‚¤ã‚¦ã‚¨ã‚¹ãƒˆã§é‡å¿ƒã‚’ã•ã‚‰ã«ä¸Šã¸',
      'ãƒãƒªç´ æã®Iãƒ©ã‚¤ãƒ³ï¼ˆã‚¿ãƒ•ã‚¿/ãƒˆãƒªã‚¢ã‚»/ã‚¦ãƒ¼ãƒ«ï¼‰',
      'ãƒ†ãƒ¼ãƒ©ãƒ¼ãƒ‰/ãƒãƒ¼ã‚«ãƒ©ãƒ¼ã®ç›´ç·šè»¸',
      'é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆé…è‰²ã§ã‚­ãƒªãƒƒã¨',
      'è£…é£¾ã¯å°‘ãªã‚ã€ã‚¨ãƒƒã‚¸ã‚’åŠ¹ã‹ã›ã‚‹'
    ],
    outfitIdeas:[
      'ã‚·ãƒ§ãƒ¼ãƒˆã‚¸ãƒ£ã‚±ãƒƒãƒˆï¼‹ãƒšãƒ³ã‚·ãƒ«ã‚¹ã‚«ãƒ¼ãƒˆï¼‹ãƒ’ãƒ¼ãƒ«',
      'ã‚¿ãƒ¼ãƒˆãƒ«ãƒ‹ãƒƒãƒˆï¼‹ãƒã‚¤ã‚¦ã‚¨ã‚¹ãƒˆã‚¹ãƒ©ãƒƒã‚¯ã‚¹'
    ],
    celebrities:{ jp:['é•·æ¾¤ã¾ã•ã¿','ç”°ä¸­ã¿ãªå®Ÿ'], kr:['IVE ãƒ¦ã‚¸ãƒ³'], global:['Jennifer Lopez','Scarlett Johansson'] }
  },

  MWUC:{ // Sporty Cool
    name:'Sporty Cool', base:'STRAIGHT', emoji:'ğŸ¦ˆ', animal:'ã‚µãƒ¡',
    image:'images/MWUC.jpg',
    concept:'é‹­ãã‚¹ãƒãƒ¼ãƒˆã€ç ”ãæ¾„ã¾ã•ã‚ŒãŸã‚¹ãƒ”ãƒ¼ãƒ‰æ„Ÿã€‚',
    body:'M=è‚‰æ„Ÿ / W=åºƒã‚ / U=ä¸Šé‡å¿ƒ / C=ç›´ç·šã€‚ä½“å¹¹ã«åšã¿ã€ä¸Šã«è¦–ç·šãŒé›†ã¾ã‚‹ã€‚æ©Ÿèƒ½ç´ æã®ç›´ç·šãŒãƒãƒã‚‹ã€‚',
    brandHints:['NIKE Sportswear','adidas Originals','P.E NATION','COS','UNIQLO U'],
    styleNotes:[
      'ç›´ç·šçš„ãƒˆãƒ©ãƒƒã‚¯ãƒ‘ãƒ³ãƒ„/ãƒ†ãƒ¼ãƒ‘ãƒ¼ãƒ‰Ã—çŸ­ä¸ˆãƒˆãƒƒãƒ—ã‚¹',
      'ãƒ¢ãƒãƒˆãƒ¼ãƒ³ã‚„å¯’è‰²ã§ã‚¯ãƒªãƒ¼ãƒ³ã«',
      'ãƒ„ãƒ¤ã‚’æŠ‘ãˆãŸã‚¹ãƒãƒ¼ãƒ†ã‚£ãƒŸãƒƒã‚¯ã‚¹',
      'ãƒœãƒªãƒ¥ãƒ¼ãƒ ã¯ä¸Šï¼šä¸‹ï¼6:4ã§',
      'è¶³å…ƒã¯åšåº•ã™ããšè»½å¿«ã«'
    ],
    outfitIdeas:[
      'ã‚¯ãƒ­ãƒƒãƒ—ãƒ‰ã‚¹ã‚¦ã‚§ãƒƒãƒˆï¼‹ãƒ†ãƒ¼ãƒ‘ãƒ¼ãƒ‰ï¼‹ç™½ã‚¹ãƒ‹ãƒ¼ã‚«ãƒ¼',
      'æ©Ÿèƒ½JKï¼‹Iãƒ©ã‚¤ãƒ³ã‚¹ã‚«ãƒ¼ãƒˆï¼‹ã‚­ãƒ£ãƒƒãƒ—'
    ],
    celebrities:{ jp:['åºƒç€¬ã™ãš','èœã€…ç·’'], kr:['Red Velvet ã‚¹ãƒ«ã‚®'], global:['Taylor Swift','Gal Gadot'] }
  },

  MNUC:{ // Glamorous Cool
    name:'Glamorous Cool', base:'STRAIGHT', emoji:'ğŸ…', animal:'ãƒˆãƒ©',
    image:'images/MNUC.jpg',
    concept:'ç«‹ä½“æ„Ÿã¨è‰²æ°—ã€å¼·ã„å­˜åœ¨æ„Ÿã€‚',
    body:'M=è‚‰æ„Ÿå¼· / N=ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆ / U=ä¸Šé‡å¿ƒ / C=ç›´ç·šã€‚èƒ¸è‚©ãƒ’ãƒƒãƒ—ã«ç«‹ä½“ã€‚ã‚¦ã‚¨ã‚¹ãƒˆã‚’é«˜ããƒãƒ¼ã‚¯ã—ã¦å½«åˆ»çš„ã«ã€‚',
    brandHints:['Max Mara','ZARA Premium','THE ROW','LE CIEL BLEU','NÂ°21'],
    styleNotes:[
      'åšã¿Ã—ç›´ç·šã‚’ã„ã‹ã™ãƒ†ãƒ¼ãƒ©ãƒ¼ãƒ‰/ã‚³ãƒ«ã‚»ãƒƒãƒˆé¢¨',
      'ãƒ€ãƒ¼ã‚¯ãƒˆãƒ¼ãƒ³ã«ä¸€ç‚¹å…‰æ²¢ï¼ˆã‚µãƒ†ãƒ³/ãƒ¬ã‚¶ãƒ¼ï¼‰',
      'ç¸¦ã‚¢ã‚¯ã‚»ãƒ³ãƒˆï¼ˆãƒ­ãƒ³ã‚°ãƒãƒƒã‚¯ãƒ¬ã‚¹/ãƒ™ãƒ«ãƒˆï¼‰',
      'ãƒ’ãƒ¼ãƒ«ã§ã•ã‚‰ã«é‡å¿ƒUP',
      'ç”˜ã•ã¯æŠ‘ãˆã‚ã€æ›²ç·šã¯â€œæ§ãˆã‚ã«ä¸€ç‚¹â€'
    ],
    outfitIdeas:[
      'ãƒ†ãƒ¼ãƒ©ãƒ¼ãƒ‰JKï¼‹ãƒã‚¤ã‚¦ã‚¨ã‚¹ãƒˆã‚¿ã‚¤ãƒˆï¼‹ãƒ”ãƒ³ãƒ’ãƒ¼ãƒ«',
      'ãƒœãƒ‡ã‚£ã‚¹ãƒ¼ãƒ„ï¼‹ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆãƒ‡ãƒ‹ãƒ ï¼‹ãƒ’ãƒ¼ãƒ«ãƒ–ãƒ¼ãƒ„'
    ],
    celebrities:{ jp:['æ·±ç”°æ­å­','ä½ã€…æœ¨å¸Œ'], kr:['BLACKPINK ã‚¸ã‚¹','TWICE ãƒ¢ãƒ¢'], global:['Angelina Jolie','Jennifer Lopez'] }
  },

  MNUS:{ // Romantic Mode
    name:'Romantic Mode', base:'STRAIGHT', emoji:'ğŸ¦š', animal:'ã‚¯ã‚¸ãƒ£ã‚¯',
    image:'images/MNUS.jpg',
    concept:'åŠ›ã¨å„ªé›…ã®å…±å­˜ã€è¯ã‚„ã‹ãªä½™éŸ»ã€‚',
    body:'M=è‚‰æ„Ÿ / N=ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆ / U=ä¸Šé‡å¿ƒ / S=æ›²ç·šå¤šã‚ã€‚ç›´ç·šéª¨æ ¼ã«æŸ”ã‚‰ã‹ãªæ›²ç·šè¦ç´ ã€‚åšæ‰‹ã‚µãƒ†ãƒ³ã‚„ã‚¿ãƒ•ã‚¿ã§â€œå¼·Ã—ç”˜â€ã®èª¿å’Œã€‚',
    brandHints:['Self-Portrait','NÂ°21','SNIDELï¼ˆãƒ‰ãƒ¬ã‚¹ãƒ©ã‚¤ãƒ³ï¼‰','FOXEY','Apuweiser-riche'],
    styleNotes:[
      'ã‚¦ã‚¨ã‚¹ãƒˆãƒãƒ¼ã‚¯å¼·ã‚ã®ãƒ•ã‚£ãƒƒãƒˆ&ãƒ•ãƒ¬ã‚¢/ãƒšãƒ—ãƒ©ãƒ ',
      'åšæ‰‹ã‚µãƒ†ãƒ³/ã‚¿ãƒ•ã‚¿/ã‚¸ãƒ£ã‚«ãƒ¼ãƒ‰ã®ãƒªãƒ¥ã‚¯ã‚¹æ„Ÿ',
      'ã‚¸ãƒ¥ã‚¨ãƒªãƒ¼ã¯å­˜åœ¨æ„Ÿã‚ã‚‹ãƒœãƒªãƒ¥ãƒ¼ãƒ ',
      'è‰²ã¯å¯’è‰²ï½ã‚¸ãƒ¥ã‚¨ãƒ«ãƒˆãƒ¼ãƒ³ã§ã‚¯ãƒ©ã‚·ãƒƒã‚¯ã«',
      'ä¸Šã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ã¯ã‚„ã‚„ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã«èª¿æ•´'
    ],
    outfitIdeas:[
      'ãƒšãƒ—ãƒ©ãƒ ãƒˆãƒƒãƒ—ã‚¹ï¼‹ãƒ†ãƒ¼ãƒ‘ãƒ¼ãƒ‰ï¼‹ãƒ¡ã‚¿ãƒ«ã‚¢ã‚¯ã‚»',
      'ã‚µãƒ†ãƒ³ãƒ¯ãƒ³ãƒ”ï¼‹ã‚·ãƒ§ãƒ¼ãƒˆãƒœãƒ¬ãƒ­'
    ],
    celebrities:{ jp:['çŸ³åŸã•ã¨ã¿','æ©‹æœ¬ç’°å¥ˆ'], kr:['aespa ã‚«ãƒªãƒŠ'], global:['Anne Hathaway','Natalie Portman'] }
  },

  MWUS:{ // Soft Active (Straight)
    name:'Soft Active (Straight)', base:'STRAIGHT', emoji:'ğŸ¬', animal:'ã‚¤ãƒ«ã‚«',
    image:'images/MWUS.jpg',
    concept:'ã™ã£ãã‚Šã¨ã—ãŸæµç·šã€ã—ãªã‚„ã‹ãªèºå‹•æ„Ÿã€‚',
    body:'M=è‚‰æ„Ÿ / W=åºƒã‚ / U=ä¸Šé‡å¿ƒ / S=æ›²ç·šå¯„ã‚Šã€‚ç›´ç·šãƒ™ãƒ¼ã‚¹ã«æ»‘ã‚‰ã‹ãªæµç·šã€‚è»½é‡ç´ æã§â€œã‚¹ãƒ”ãƒ¼ãƒ‰æ„Ÿâ€ã€‚',
    brandHints:['PLEATS PLEASE','ISSEY MIYAKE','UNIQLO U','Theory','Lululemon'],
    styleNotes:[
      'æµç·šã‚’æããƒ—ãƒªãƒ¼ãƒ„/ãƒ‰ãƒ¬ãƒ¼ãƒ—ï¼ˆéå‰°ã‚®ãƒ£ã‚¶ãƒ¼ã¯é¿ã‘ã‚‹ï¼‰',
      'ä¸Šã‚³ãƒ³ãƒ‘ã‚¯ãƒˆÃ—ä¸‹ã‚¹ãƒƒã‚­ãƒªã§è„šé•·',
      'è¥Ÿã¯ã‚¯ãƒ«ãƒ¼/ãƒœãƒ¼ãƒˆã§ã‚¯ãƒªãƒ¼ãƒ³ã«',
      'é…è‰²ã¯å¯’è‰²ä¸­å¿ƒã«ã‚¯ãƒªã‚¢',
      'ã‚¹ãƒãƒ¼ãƒ†ã‚£è¦ç´ ã¯ãƒŸãƒ‹ãƒãƒ«ã«'
    ],
    outfitIdeas:[
      'ãƒ—ãƒªãƒ¼ãƒ„ãƒˆãƒƒãƒ—ï¼‹ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆãƒ‘ãƒ³ãƒ„ï¼‹ãƒŸãƒ‹ãƒãƒƒã‚°',
      'ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã‚«ãƒƒãƒˆã‚½ãƒ¼ï¼‹Iãƒ©ã‚¤ãƒ³ã‚¹ã‚«ãƒ¼ãƒˆï¼‹ã‚¹ãƒ‹ãƒ¼ã‚«ãƒ¼'
    ],
    celebrities:{ jp:['æœ¨æ‘æ–‡ä¹ƒ','åºƒç€¬ã™ãš'], kr:['Red Velvet ã‚¹ãƒ«ã‚®','IVE ãƒ¦ã‚¸ãƒ³'], global:['Taylor Swift','Gal Gadot'] }
  },

  BNUC:{ // Structural Mode
    name:'Structural Mode', base:'STRAIGHT', emoji:'ğŸ¦‰', animal:'ãƒ•ã‚¯ãƒ­ã‚¦',
    image:'images/BNUC.jpg',
    concept:'ç²¾å¯†ã§æ§‹ç¯‰çš„ã€å¤œã«å…‰ã‚‹çŸ¥æ€§ã€‚',
    body:'B=éª¨æ„Ÿå¼· / N=ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆ / U=ä¸Šé‡å¿ƒ / C=ç›´ç·šã€‚å»ºç¯‰çš„ãƒ©ã‚¤ãƒ³ãŒä¼¼åˆã†ç©¶æ¥µã®ç›´ç·šè»¸ã€‚ãƒ¢ãƒãƒˆãƒ¼ãƒ³Ã—æ§‹é€ ã§ã‚­ãƒ¡ã‚‹ã€‚',
    brandHints:['COS','Theory','AURALEE','HYKE','Sâ€™YTE','UNIQLO +J'],
    styleNotes:[
      'ã‚·ãƒ§ãƒ¼ãƒˆä¸ˆã‚¸ãƒ£ã‚±ãƒƒãƒˆã§ä¸Šé‡å¿ƒã‚’å¼·èª¿',
      'ç¡¬è³ªç´ æã§ç›´ç·šã‚’ãã£ãã‚Šï¼ˆã‚¦ãƒ¼ãƒ«ã‚®ãƒ£ãƒ/ã‚³ãƒƒãƒˆãƒ³ãƒ„ã‚¤ãƒ«ï¼‰',
      'ãƒ¢ãƒãƒˆãƒ¼ãƒ³ã‚„ä½å½©åº¦é…è‰²',
      'é‡‘å±ç³»ã‚¢ã‚¯ã‚»ã§çŸ¥æ€§ã‚’è£œå¼·',
      'è£…é£¾ã¯æ’ã—ã¦â€œè§’åº¦â€ã‚’éš›ç«‹ã¦ã‚‹'
    ],
    outfitIdeas:[
      'ãƒœã‚¯ã‚·ãƒ¼JKï¼‹ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆã‚¹ãƒ©ãƒƒã‚¯ã‚¹ï¼‹ãƒ¬ã‚¶ãƒ¼ã‚·ãƒ¥ãƒ¼ã‚º',
      'ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ¥ãƒ©ãƒ«ãªãƒ¯ãƒ³ãƒ”ï¼‹ã‚·ãƒ§ãƒ¼ãƒˆãƒ–ãƒ¼ãƒ„'
    ],
    celebrities:{ jp:['æ¾ä¸‹å¥ˆç·’','æœ¨æ‘æ–‡ä¹ƒ'], kr:['TWICE ãƒ¢ãƒ¢'], global:['Charlize Theron','Cate Blanchett'] }
  }
};

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ±ç”¨èª¬æ˜/ææ¡ˆãƒ­ã‚¸ãƒƒã‚¯ï¼ˆã‚¿ã‚¤ãƒ—å›ºæœ‰ãŒç„¡ã‘ã‚Œã°è‡ªå‹•è£œå®Œï¼‰ â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function describeBodyByCode(code){
  const [a,b,c,d]=code.split('');
  const p1=(a==='B')?'éª¨æ ¼ã‚„é–¢ç¯€ã®å­˜åœ¨æ„ŸãŒãƒ™ãƒ¼ã‚¹':'è‚‰æ„Ÿãƒ»ç­‹è‚‰ã®åšã¿ãŒãƒ™ãƒ¼ã‚¹';
  const p2=(b==='W')?'å…¨ä½“ã¯è»½ã‚„ã‹ã§ç¹Šç´°':'å…¨ä½“ã¯é‡åšã§å®‰å®šæ„Ÿã‚ã‚Š';
  const p3=(c==='U')?'ä¸Šé‡å¿ƒã§ä¸ŠåŠèº«ã«è¦–ç·šãŒé›†ã¾ã‚Šã‚„ã™ã„':'ä¸‹é‡å¿ƒã§ä¸‹åŠèº«ã«å®‰å®šãŒå‡ºã‚„ã™ã„';
  const p4=(d==='C')?'è¼ªéƒ­ã¯ç›´ç·šå¯„ã‚Šã§ã‚·ãƒ£ãƒ¼ãƒ—':'è¼ªéƒ­ã¯æ›²ç·šå¯„ã‚Šã§ã‚½ãƒ•ãƒˆ';
  return `ã€éª¨æ ¼å°è±¡ã¾ã¨ã‚ã€‘${p1}ã€‚${p2}ã€‚${p3}ã€‚${p4}ã€‚`;
}
function autoBrands(code, base){
  const [a,b,c,d]=code.split('');
  const core={WAVE:['SNIDEL','Lily Brown','Mila Owen','IÃ‰NA','N.O.R.C','URBAN RESEARCH ROSSO'],
              NATURAL:['JOURNAL STANDARD','IÃ‰NA','UNITED ARROWS','BEAUTY&YOUTH','BEAMS','TOMORROWLAND'],
              STRAIGHT:['Theory','Max Mara','PLST','UNIQLO U','COS','ZARA Premium']};
  const addLine=(d==='C')?['COS','Theory','AURALEE']:['SNIDEL','TOCCA','CELFORD'];
  const addDen=(b==='W')?['Deuxieme Classe','ENFÃ–LD']:['Max Mara','STUNNING LURE'];
  const addBal=(c==='U')?['Drawer','FOXEY']:['URBAN RESEARCH','Spick & Span'];
  return [...new Set([...(core[base]||[]),...addLine,...addDen,...addBal])].slice(0,7);
}
function autoStyle(code){
  const [a,b,c,d]=code.split('');
  const fabric=(b==='N')?['è–„æ‰‹ã‚¦ãƒ¼ãƒ«','ã‚·ãƒ•ã‚©ãƒ³/ã‚¸ãƒ§ãƒ¼ã‚¼ãƒƒãƒˆ','ã‚¹ãƒ ãƒ¼ã‚¹ãƒ‹ãƒƒãƒˆ']:['ãƒŸãƒƒãƒ‰ã€œåšæ‰‹ã‚¦ãƒ¼ãƒ«','ãƒãƒªã®ã‚ã‚‹ãƒ„ã‚¤ãƒ«','ã‚µãƒ†ãƒ³/ã‚¸ãƒ£ã‚«ãƒ¼ãƒ‰'];
  const neck=(d==='C')?['ã‚¯ãƒ«ãƒ¼/ãƒœãƒ¼ãƒˆ','ã‚¹ã‚¿ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼','æµ…Vã‚·ãƒ£ãƒ„']:['ãƒ©ã‚¦ãƒ³ãƒ‰/ã‚¹ã‚«ãƒ¼ãƒ•ã‚¿ã‚¤','ãƒãƒ¼ãƒˆãƒãƒƒã‚¯','Vãƒãƒƒã‚¯ï¼‹ãƒ‰ãƒ¬ãƒ¼ãƒ—'];
  const silhouette=(c==='U')?['çŸ­ã‚ãƒˆãƒƒãƒ—ã‚¹Ã—ãƒã‚¤ã‚¦ã‚¨ã‚¹ãƒˆ','Iãƒ©ã‚¤ãƒ³ãƒ¯ãƒ³ãƒ”','ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆJK']:['ãƒ­ãƒ³ã‚°ãƒˆãƒƒãƒ—ã‚¹Ã—è½ã¡æ„Ÿãƒœãƒˆãƒ ','Aãƒ©ã‚¤ãƒ³/ãƒ•ãƒ¬ã‚¢','ãƒ‰ãƒ­ãƒƒãƒ—ã‚·ãƒ§ãƒ«ãƒ€ãƒ¼'];
  const lines=(d==='C')?['ã‚»ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ¬ã‚¹','ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆã‚¹ã‚«ãƒ¼ãƒˆ','ãƒ†ãƒ¼ãƒ©ãƒ¼ãƒ‰']:['ãƒã‚¤ã‚¢ã‚¹/ãƒ‰ãƒ¬ãƒ¼ãƒ—','ãƒãƒ¼ãƒ¡ã‚¤ãƒ‰/ãƒ•ãƒ¬ã‚¢','ã‚®ãƒ£ã‚¶ãƒ¼æ§ãˆã‚'];
  return {fabric,neck,silhouette,lines};
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ UIãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const $=(s,el=document)=>el.querySelector(s);
const app=document.getElementById('app');
let state = makeInitialState();


function render(){
  app.innerHTML='';
  if(state.step===0) return renderIntro();
  if(state.step>=1 && state.step<=4) return renderAxis(AXES[state.step-1]);
  if(state.step===5) return renderResult();
}

function renderIntro(){
  const el=document.createElement('div');
  el.innerHTML=`
    <div class="result">
      <h2>4å°è±¡è»¸ã§åˆ¤å®šã™ã‚‹ã€16ã‚¿ã‚¤ãƒ—ï¼ˆFinal + Brand/Styleï¼‰</h2>
      <p class="muted">Frameï¼ˆéª¨æ ¼/è‚‰æ„Ÿï¼‰ãƒ»Surfaceï¼ˆåºƒ/ç‹­ï¼‰ãƒ»Balanceï¼ˆä¸Š/ä¸‹ï¼‰ãƒ»Lineï¼ˆç›´/æ›²ï¼‰ã‚’ã‚¹ã‚³ã‚¢åŒ–ã—ã€4æ–‡å­—ã‚³ãƒ¼ãƒ‰ï¼ˆä¾‹ï¼šBHUCï¼‰ã‚’ç”Ÿæˆã€‚<br>ã‚¿ã‚¤ãƒ—ã”ã¨ã«å‹•ç‰©çµµæ–‡å­—ãƒ»ã‚³ãƒ³ã‚»ãƒ—ãƒˆãƒ»ä¼¼åˆã†ãƒ–ãƒ©ãƒ³ãƒ‰ãƒ»ã‚¹ã‚¿ã‚¤ãƒ«æŒ‡é‡ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</p>
      <div class="controls">
        <button id="start">ã¯ã˜ã‚ã‚‹</button>
        <button class="secondary" id="how">è¨­è¨ˆã®è€ƒãˆæ–¹</button>
      </div>
    </div>`;
  app.appendChild(el);
  $('#start',el).onclick=()=>{state.step=1;render();};
  $('#how',el).onclick=()=>alert('Final Edition: Natural=BWç³»ã®ã¿ï¼MWUSâ‡„MNLCå…¥æ›¿ï¼å„ã‚¿ã‚¤ãƒ—ã«å‹•ç‰©ãƒ¢ãƒãƒ¼ãƒ•ã€ãƒ–ãƒ©ãƒ³ãƒ‰ã€ã‚¹ã‚¿ã‚¤ãƒ«ãƒãƒ¼ãƒˆã‚’ä»˜ä¸ã€‚ç”»åƒã¯ images/CODE.jpg ã§ä»»æ„è¡¨ç¤ºã€‚');
}

function renderAxis(axis){
  const {key,label,posLabel,negLabel} = axis;
  const qs = QUESTIONS[key];
  const progress = (state.step/5)*100;

  // 1. ç”»é¢ã‚’ã¾ã‚‹ã£ã¨æç”»
  app.innerHTML = '';
  const el = document.createElement('div');
  el.innerHTML = `
    <div class="footer" style="margin-bottom:10px">
      <div class="pill">${state.step}/4ï¼š${label}</div>
      <div class="progress" style="width:58%">
        <div class="bar" style="width:${progress}%"></div>
      </div>
    </div>

    <div class="grid">
      ${qs.map((q,i)=>`
        <div class="q">
          <h4>${i+1}. ${q.t}</h4>

          <div class="scale-btns" data-i="${i}">
            ${[1,2,3,4,5].map(v=>`
              <button type="button"
                class="opt ${v===Number(state.answers[key][i])?'active':''}"
                data-v="${v}" data-i="${i}" aria-pressed="${v===Number(state.answers[key][i])}">
                ${v}
              </button>
            `).join('')}
          </div>

          <div class="muted">
            è©•ä¾¡ï¼š<span id="v-${key}-${i}">${state.answers[key][i]}</span> / 5
          </div>
        </div>
      `).join('')}
    </div>

    <div class="footer">
      <div class="pill">${negLabel} â† ã‚¹ã‚±ãƒ¼ãƒ« â†’ ${posLabel}</div>
      <div class="controls">
        <button class="secondary" id="back">æˆ»ã‚‹</button>
        <button id="next">æ¬¡ã¸</button>
      </div>
    </div>
  `;
  app.appendChild(el);

  // 2. ãƒœã‚¿ãƒ³ã®æŒ™å‹•ï¼ˆã‚¯ãƒªãƒƒã‚¯ã§å€¤ã‚’åæ˜ ï¼†è¦‹ãŸç›®æ›´æ–°ï¼‰
  el.querySelectorAll('.opt').forEach(btn=>{
    btn.onclick = () => {
      const v = +btn.dataset.v;
      const i = +btn.dataset.i;
      state.answers[key][i] = v;

      // è¦‹ãŸç›®ï¼ˆactiveï¼‰ï¼†æ•°å€¤è¡¨ç¤ºã‚’å³æ™‚æ›´æ–°
      const group = el.querySelector(`.scale-btns[data-i="${i}"]`);
      group.querySelectorAll('.opt').forEach(b=>{
        const on = (+b.dataset.v === v);
        b.classList.toggle('active', on);
        b.setAttribute('aria-pressed', on ? 'true' : 'false');
      });
      el.querySelector(`#v-${key}-${i}`).textContent = String(v);
    };
  });

  // 3. ãƒŠãƒ“
  el.querySelector('#next').onclick = () => {
    state.step = Math.min(5, state.step + 1);
    render();
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };
  el.querySelector('#back').onclick = () => {
    state.step = Math.max(0, state.step - 1);
    render();
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };
}

function computeAxis(axisKey){
  const arr = state.answers[axisKey].map(Number);
  const qs  = QUESTIONS[axisKey];
  const n   = arr.length;

  // pos=trueãªã‚‰ãã®ã¾ã¾ã€falseãªã‚‰6-vã§åè»¢
  const mapped = arr.map((v,i)=> qs[i].pos ? v : (6 - v));

  // åˆè¨ˆã¨å¹³å‡
  const total = mapped.reduce((a,b)=>a+b,0);
  const mean5 = total / n;
  const neutral = 3 * n;

  const ax  = AXES.find(a=>a.key===axisKey);
  const pos = total > neutral; // åˆ¤å®šåŸºæº–
  return { mean: mean5, total, pos, code: pos ? ax.codePos : ax.codeNeg };
}

// 4è»¸ã®ã‚³ãƒ¼ãƒ‰æ§‹ç¯‰
function buildCode(){
  const f=computeAxis('frame'),
        s=computeAxis('surface'),
        b=computeAxis('balance'),
        l=computeAxis('line');
  return {code:`${f.code}${s.code}${b.code}${l.code}`,scores:{frame:f,surface:s,balance:b,line:l}};
}

function renderResult(){
  const {code,scores}=buildCode();
  const meta=TYPE_META[code]||{name:'æœªå®šç¾©ã‚¿ã‚¤ãƒ—',base:'-',emoji:'',animal:'',image:'',concept:'',brandHints:[],styleNotes:[]};
     document.body.dataset.theme = meta.base;
    // --- Google Sheetsã«è‡ªå‹•é€ä¿¡ï¼ˆæœ€åˆã®1å›ã ã‘ï¼‰ ---
  if (!state._sentOnce) {
    state._sentOnce = true;

    const sid = localStorage.getItem('km_session')
      || (localStorage.setItem('km_session', (crypto?.randomUUID?.() ?? String(Math.random()))),
          localStorage.getItem('km_session'));

    sendToSheets({
      code,
      scores,
      userAgent: navigator.userAgent,
      sessionId: sid,
      t: Date.now()
    });
  }

  const el=document.createElement('div');

  const bodyDesc=describeBodyByCode(code);
  const brands=meta.brandHints?.length?meta.brandHints:autoBrands(code,meta.base);
  const auto=autoStyle(code); 
  const notes=(meta.styleNotes?.length?meta.styleNotes:[]);

  // ï¼…ç®—å‡º
  const pf = axisPercent('frame');
  const ps = axisPercent('surface');
  const pb = axisPercent('balance');
  const pl = axisPercent('line');

  // èŠ¸èƒ½äººãƒ–ãƒ­ãƒƒã‚¯
  let celebHTML = '';
  if (meta.celebrities) {
    const { jp = [], kr = [], global = [] } = meta.celebrities;
    const group = [
      { label: 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬', list: jp },
      { label: 'ğŸ‡°ğŸ‡· éŸ“å›½', list: kr },
      { label: 'ğŸŒ æµ·å¤–', list: global },
    ];
    celebHTML = `
      <div class="card guide" style="margin-top:12px">
        <h3>ä»£è¡¨çš„ãªèŠ¸èƒ½äºº</h3>
        ${group.map(g=> g.list.length
          ? `<h4>${g.label}</h4><div class="chips">${g.list.map(x=>`<span class="chip">${x}</span>`).join('')}</div>`
          : ''
        ).join('')}
        <p class="small">â€» å„ã‚¿ã‚¤ãƒ—ã«ãŠã‘ã‚‹èŠ¸èƒ½äººåˆ†é¡ã¯å…¬çš„ãªã‚‚ã®ã§ã¯ãªãã€ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°å‚¾å‘ã«åŸºã¥ãå‚è€ƒä¾‹ã§ã™ã€‚</p>
      </div>
    `;
  }

  // ãƒ¡ãƒ¼ã‚¿ãƒ¼ãƒ–ãƒ­ãƒƒã‚¯
  const barsHTML = `
    <div class="traits">
      ${[
        {key:'Frame', ax:AXES[0], data:pf},
        {key:'Surface', ax:AXES[1], data:ps},
        {key:'Balance', ax:AXES[2], data:pb},
        {key:'Line', ax:AXES[3], data:pl},
      ].map(({key,ax,data})=>`
        <div class="trait">
          <div class="row">
            <div class="title">${key}ï¼š<span class="${data.posSide?'ok':'warn'}">${data.pct}% ${data.sideLabel.replace(/ï¼ˆ.*?ï¼‰/g,'')}</span></div>
            <div class="percent">${data.pct}%</div>
          </div>
          <div class="meter">
            <div class="fill" style="width:${data.pct}%;"></div>
            <div class="thumb" style="left:${data.pct}%;"></div>
          </div>
          <div class="ends">
            <span>${ax.negLabel}</span><span>${ax.posLabel}</span>
          </div>
        </div>
      `).join('')}
    </div>
  `;

  // çµæœãƒ†ãƒ³ãƒ—ãƒ¬
  el.innerHTML=`
    <div class="cols">
      <div class="card result">
        <h2>è¨ºæ–­çµæœï¼š<span class="ok">${code}</span> â€” <span class="em">${meta.emoji||''}</span> ${meta.name}</h2>
        <div class="tags">
          <span class="tag">åŸºç›¤ä½“å‹ï¼š${baseLabel(meta.base)}</span>
          ${meta.animal?`<span class="tag">motif Animal: ${meta.animal}</span>`:''}
        </div>
        <img class="hero" src="${meta.image||''}" alt="${code} image" onerror="this.style.display='none'"/>
        <p class="concept">${meta.concept||''}</p>

        <p class="muted">4è»¸ã®å¹³å‡ã‚¹ã‚³ã‚¢</p>
        ${barsHTML}
        ${celebHTML}
        <!-- â˜… åŒæ„ãƒã‚§ãƒƒã‚¯ï¼ˆé€ä¿¡ON/OFFã®ãƒˆã‚°ãƒ«ï¼‰ -->
<label class="consent" style="display:flex;gap:10px;align-items:center;margin:10px 0 4px;">
  <input type="checkbox" id="consentBox">
  <span class="small">åŒ¿åã§è¨ºæ–­çµæœã‚’é›†è¨ˆä¿å­˜ã™ã‚‹ã“ã¨ã«åŒæ„ã—ã¾ã™</span>
</label>


        <div class="card guide" style="margin-top:12px">
          <h3>ã©ã‚“ãªéª¨æ ¼ï¼Ÿ</h3>
          <p>${bodyDesc}</p>

          <h3>ä¼¼åˆã„ã‚„ã™ã„ãƒ–ãƒ©ãƒ³ãƒ‰</h3>
         
        ã€€ã€€<div class="chips brand-chips">
  ${brands.map(b=>`<span class="chip" title="${b}">${b}</span>`).join('')}
</div>

          <h3>ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°æŒ‡é‡</h3>
          <div class="cols" style="grid-template-columns:1fr 1fr">
            <div>
              <h4>ç´ æãƒ»è³ªæ„Ÿ</h4>
              <ul>${auto.fabric.map(x=>`<li>${x}</li>`).join('')}</ul>
              <h4>ãƒãƒƒã‚¯ãƒ©ã‚¤ãƒ³</h4>
              <ul>${auto.neck.map(x=>`<li>${x}</li>`).join('')}</ul>
            </div>
            <div>
              <h4>ã‚·ãƒ«ã‚¨ãƒƒãƒˆ</h4>
              <ul>${auto.silhouette.map(x=>`<li>${x}</li>`).join('')}</ul>
              <h4>ãƒ©ã‚¤ãƒ³è¨­è¨ˆ</h4>
              <ul>${auto.lines.map(x=>`<li>${x}</li>`).join('')}</ul>
            </div>
          </div>
          ${notes.length?`<h4>ã‚¿ã‚¤ãƒ—å›ºæœ‰ãƒ¡ãƒ¢</h4><ul>${notes.map(n=>`<li>${n}</li>`).join('')}</ul>`:''}
          <p class="small">â€» ææ¡ˆã¯å„è»¸ï¼ˆéª¨æ ¼/å¯†åº¦/é‡å¿ƒ/ãƒ©ã‚¤ãƒ³ï¼‰ã®ã‚¹ã‚³ã‚¢ã¨ã‚¿ã‚¤ãƒ—å›ºæœ‰æƒ…å ±ã‹ã‚‰ç”Ÿæˆã€‚ä½“å‹ã‚„å¥½ã¿ã«åˆã‚ã›ã¦å¾®èª¿æ•´ã—ã¦ãã ã•ã„ã€‚</p>
        </div>
         <div class="card" style="margin-top:20px; text-align:center;">
    <h3>ä»–ã®éª¨æ ¼ã‚¿ã‚¤ãƒ—ã‚‚è¦‹ã¦ã¿ã‚‹</h3>
    <p>ã‚ãªãŸã®ã‚¿ã‚¤ãƒ—ä»¥å¤–ã®15ã‚¿ã‚¤ãƒ—ã‚’æ¯”è¼ƒã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</p>
    <a href="gallery.html" class="btn" style="
      display:inline-block;
      background:#333;
      color:white;
      padding:10px 20px;
      border-radius:8px;
      text-decoration:none;
      transition:all 0.3s;">
      ã‚¿ã‚¤ãƒ—ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã‚’è¦‹ã‚‹ â†’
    </a>
  </div>
  <div class="share-box">
  <h3 style="margin-top:0;">çµæœã‚’ã‚·ã‚§ã‚¢</h3>
  <div class="share-buttons">
    <button class="share-btn" id="btn-x">Xã§ã‚·ã‚§ã‚¢</button>
    <button class="share-btn" id="btn-line">LINEã§é€ã‚‹</button>
    <button class="share-btn" id="btn-copy">ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼</button>
  </div>

        <div class="controls">
          <button id="retry" class="secondary">ã‚‚ã†ä¸€åº¦</button>
          <button id="export">çµæœã‚’JSONã§ä¿å­˜</button>
        </div>
      </div>

      <div class="card">
        <h3>ã‚¿ã‚¤ãƒ—ç¾¤ã®è§£èª¬</h3>
        <ul>
          <li><b>WAVE</b>ï¼šæŸ”ãƒ»è»½ãƒ»ä¸‹é‡å¿ƒãƒ»æ›²ç·šï¼ˆğŸ©° Airy / Gentle / Dreamlikeï¼‰</li>
          <li><b>NATURAL</b>ï¼šéª¨æ„Ÿãƒ»ç›´ç·šãƒ»ä¸­åº¸ï¼ˆğŸŒ¿ Calm / Organic / Minimalï¼‰â€»BLç³»ã®ã¿</li>
          <li><b>STRAIGHT</b>ï¼šåšãƒ»ç«‹ä½“ãƒ»ä¸Šé‡å¿ƒãƒ»ç›´ç·šï¼ˆğŸ–¤ Modern / Powerful / Elegantï¼‰</li>
        </ul>
      </div>
    </div>
  `;

// === è‡ªå‹•é€ä¿¡ï¼ˆåŒæ„ON ã‹ã¤ æœªé€ä¿¡ã®ã¨ãä¸€åº¦ã ã‘ï¼‰ ===
if (!state._sentOnce) {
  const agreed = getConsent() === 'yes';
  if (agreed) {
    state._sentOnce = true;

    const sid = localStorage.getItem('km_session')
      || (localStorage.setItem('km_session', (crypto?.randomUUID?.() ?? String(Math.random()))),
          localStorage.getItem('km_session'));

    const payload = { code, scores, userAgent:navigator.userAgent, sessionId:sid, t:Date.now() };
    sendToSheets(payload);
  }
}

  // ã“ã“ã§ä¸€åº¦ã ã‘ append

  app.appendChild(el);
 
// ===== å…±æœ‰ãƒœã‚¿ãƒ³ç´ã¥ã‘ï¼ˆrenderResult() ã®æœ€å¾Œã§å®Ÿè¡Œï¼‰ =====
(() => {
  const { code } = buildCode();
  const meta = TYPE_META[code] || { name:'', emoji:'' };

  // ã‚¿ã‚¤ãƒˆãƒ«ã¨URL
  const shareTitle = `${meta.emoji ?? ''} ${meta.name || code}ï¼ˆ${code}ï¼‰`;
  const shareUrl   = location.href.split('#')[0];

  const bx = document.getElementById('btn-x');
  if (bx) bx.onclick = () => {
    const t = encodeURIComponent(`éª¨æ ¼MBTIè¨ºæ–­ã®çµæœã¯ã€Œ${shareTitle}ã€ã§ã—ãŸï¼`);
    const u = encodeURIComponent(shareUrl);
    window.open(`https://twitter.com/intent/tweet?text=${t}&url=${u}`, '_blank');
  };

  const bl = document.getElementById('btn-line');
  if (bl) bl.onclick = () => {
    const t = encodeURIComponent(`éª¨æ ¼MBTIè¨ºæ–­ã®çµæœã¯ã€Œ${shareTitle}ã€ã§ã—ãŸï¼\n${shareUrl}`);
    window.open(`https://line.me/R/msg/text/?${t}`, '_blank');
  };

  const bc = document.getElementById('btn-copy');
  if (bc) bc.onclick = () => {
    navigator.clipboard.writeText(shareUrl).then(()=>alert('ãƒªãƒ³ã‚¯ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ'));
  };
})();


  // === åŒæ„ãƒã‚§ãƒƒã‚¯ã®åˆæœŸçŠ¶æ…‹ã¨ã‚¤ãƒ™ãƒ³ãƒˆ ===
const cb = document.getElementById('consentBox');
if (cb) {
  // æ—¢å­˜ã®åŒæ„çŠ¶æ…‹ã§åˆæœŸåŒ–
  cb.checked = (getConsent() === 'yes');

  cb.onchange = () => {
    setConsent(cb.checked);
    // ãƒã‚§ãƒƒã‚¯ONã«åˆ‡ã‚Šæ›¿ãˆãŸç›´å¾Œã€ã¾ã é€ã£ã¦ã„ãªã‘ã‚Œã°é€ã‚‹ï¼ˆ1å›ã ã‘ï¼‰
    if (cb.checked && !state._sentOnce) {
      state._sentOnce = true;

      const sid = localStorage.getItem('km_session')
        || (localStorage.setItem('km_session', (crypto?.randomUUID?.() ?? String(Math.random()))),
            localStorage.getItem('km_session'));

      const { code, scores } = buildCode(); // å¿µã®ãŸã‚æœ€æ–°ã‚’å–å¾—
      sendToSheets({ code, scores, userAgent:navigator.userAgent, sessionId:sid, t:Date.now() });
    }
  };
}


  // ã‚¤ãƒ™ãƒ³ãƒˆ
  $('#retry', el).onclick = () => {
  state = makeInitialState();          // ãœã‚“ã¶ãƒªã‚»ãƒƒãƒˆ
  state.step = 0;                      // ã™ãæœ€åˆã®è»¸ã‹ã‚‰å†é–‹ã—ãŸã„ãªã‚‰1ã«
  render();
  window.scrollTo({ top: 0, behavior: 'smooth' });
};


  $('#export',el).onclick=()=>{ 
  // JSONä¿å­˜
  const payload={code,meta,scores,answers:state.answers};
  const blob=new Blob([JSON.stringify(payload,null,2)],{type:'application/json'});
  const url=URL.createObjectURL(blob);
  const a=document.createElement('a'); a.href=url; a.download=`kokkaku-mbti-${code}.json`; a.click();
  URL.revokeObjectURL(url);

  // ãƒœã‚¿ãƒ³ã§ã‚‚é€ã‚‹ãŒã€ä¸€åº¦é€ã£ã¦ã„ã‚Œã°é€ã‚‰ãªã„
  if (!state._sentOnce) {
    state._sentOnce = true;
    sendToSheets({ code, scores, userAgent:navigator.userAgent, t:Date.now() });
  }
}

}


// ãƒ†ãƒ¼ãƒ–ãƒ«ã®å‰ã«å…¥ã‚ŒãŸã„å ´åˆã¯â†“ã®è¡Œã®ç›´å‰ã« ${barsHTML} ã‚’æŒ¿å…¥

function baseLabel(b){
  return b==='WAVE'?'WAVEï¼ˆæŸ”ãƒ»è»½ãƒ»ä¸‹é‡å¿ƒï¼‰'
       : b==='STRAIGHT'?'STRAIGHTï¼ˆåšãƒ»ç«‹ä½“ãƒ»ä¸Šé‡å¿ƒï¼‰'
       : b==='NATURAL'?'NATURALï¼ˆéª¨æ„Ÿãƒ»ç›´ç·šãƒ»ãƒ©ãƒ•ï¼‰' : b;
}
render();
/* â”€â”€â”€â”€â”€ ï¼…ãƒãƒ¼ç”¨ï¼šå„è»¸ã®ã€Œå³å´å¯„ã‚Šï¼…ã€ã‚’ç®—å‡º â”€â”€â”€â”€â”€ */
function axisPercent(axisKey){
  const arr = state.answers[axisKey].map(Number);
  const qs  = QUESTIONS[axisKey];

  // 0..1 æ­£è¦åŒ–ï¼ˆå·¦å‘ãè¨­å•ã¯åè»¢ï¼‰
  const normalized = arr.map((v,i)=>{
    const s = (v-1)/4;          // 1â†’0, 5â†’1
    return qs[i].pos ? s : (1-s);
  });
  const avg = normalized.reduce((a,b)=>a+b,0)/normalized.length; // 0..1
  const pct = Math.round(avg*100); // 0..100ï¼ˆå³å´ï¼codePosæ–¹å‘ã®ï¼…ï¼‰

  // ãƒ©ãƒ™ãƒ«æ±ºå®šï¼ˆã©ã¡ã‚‰å¯„ã‚Šã‹ï¼‰
  const ax = AXES.find(a=>a.key===axisKey);
  const sideLabel = (pct>50) ? ax.posLabel : ax.negLabel;
  return { pct, sideLabel, posSide: pct>50 };
}


</script>



</body>
</html>
